#input
i,j,k,l = 0.6,0.2,0.5,0.8

prs = {111:i,211:1-i,
      112:j,212:1-j,
      121:k,221:1-k,
      122:l,222:1-l}

r = {1:100,2:10}

i,j = 0.8,0.2

pre = {11:i,21:1-i,
       12:j,22:1-j}

ans = [[None,None] for _ in range(5)]
pr = {}
prs1,prs2 = 0.5,0.5
#-----------------------------------------------------------------------------
#input
i,j,k,l = 0.8,0.4,0.2,0.6

prs = {111:i,211:1-i,
      112:j,212:1-j,
      121:k,221:1-k,
      122:l,222:1-l}

r = {1:100,2:50}

i,j = 0.8,0.2

pre = {11:i,21:1-i,
       12:j,22:1-j}

ans = [[None,None] for _ in range(5)]
pr = {}
prs1,prs2 = 0.6,0.4

#-----------------------------------------------------------------------------
#input
i,j,k,l = 0.8,0.4,0.2,0.6

prs = {111:i,211:1-i,
      112:j,212:1-j,
      121:k,221:1-k,
      122:l,222:1-l}

r = {1:100,2:60}

i,j = 0.6,0.4

pre = {11:i,21:1-i,
       12:j,22:1-j}

ans = [[None,None] for _ in range(5)]
pr = {}
prs1,prs2 = 0.8,0.2

#-----------------------------------------------------------------------------
pr[11] = prs1*prs[111] + prs2*prs[121]
pr[21] = prs1*prs[211] + prs2*prs[221]
pr[111] = pr[11]*pre[11]/(pr[11]*pre[11]+pr[21]*pre[12])
pr[211] = pr[21]*pre[12]/(pr[11]*pre[11]+pr[21]*pre[12])
pr[1111] = pr[111]*prs[111] + pr[211]*prs[121]
pr[2111] = pr[111]*prs[211] + pr[211]*prs[221]
pr[1112] = pr[111]*prs[112] + pr[211]*prs[122]
pr[2112] = pr[111]*prs[212] + pr[211]*prs[222]

V = [(pr[1111]*pre[11]+pr[2111]*pre[12])*r[1]+(pr[1111]*pre[21]+pr[2111]*pre[22])*r[2],
     (pr[1112]*pre[11]+pr[2112]*pre[12])*r[1]+(pr[1112]*pre[21]+pr[2112]*pre[22])*r[2],]

ans[0] = [max(V),V.index(max(V))+1]
pr1 = pr.copy()
#-----------------------------------------------------------------------------

pr[11] = prs1*prs[111] + prs2*prs[121]
pr[21] = prs1*prs[211] + prs2*prs[221]
pr[111] = pr[11]*pre[21]/(pr[11]*pre[21]+pr[21]*pre[22])
pr[211] = pr[21]*pre[22]/(pr[11]*pre[21]+pr[21]*pre[22])
pr[1111] = pr[111]*prs[111] + pr[211]*prs[121]
pr[2111] = pr[111]*prs[211] + pr[211]*prs[221]
pr[1112] = pr[111]*prs[112] + pr[211]*prs[122]
pr[2112] = pr[111]*prs[212] + pr[211]*prs[222]

V = [(pr[1111]*pre[11]+pr[2111]*pre[12])*r[1]+(pr[1111]*pre[21]+pr[2111]*pre[22])*r[2],
     (pr[1112]*pre[11]+pr[2112]*pre[12])*r[1]+(pr[1112]*pre[21]+pr[2112]*pre[22])*r[2],]

ans[1] = [max(V),V.index(max(V))+1]
pr2 = pr.copy()
#-----------------------------------------------------------------------------

pr[11] = prs1*prs[112] + prs2*prs[122]
pr[21] = prs1*prs[212] + prs2*prs[222]
pr[111] = pr[11]*pre[11]/(pr[11]*pre[11]+pr[21]*pre[12])
pr[211] = pr[21]*pre[12]/(pr[11]*pre[11]+pr[21]*pre[12])
pr[1111] = pr[111]*prs[111] + pr[211]*prs[121]
pr[2111] = pr[111]*prs[211] + pr[211]*prs[221]
pr[1112] = pr[111]*prs[112] + pr[211]*prs[122]
pr[2112] = pr[111]*prs[212] + pr[211]*prs[222]

V = [(pr[1111]*pre[11]+pr[2111]*pre[12])*r[1]+(pr[1111]*pre[21]+pr[2111]*pre[22])*r[2],
     (pr[1112]*pre[11]+pr[2112]*pre[12])*r[1]+(pr[1112]*pre[21]+pr[2112]*pre[22])*r[2],]

ans[2] = [max(V),V.index(max(V))+1]
pr3 = pr.copy()
#-----------------------------------------------------------------------------
pr[11] = prs1*prs[112] + prs2*prs[122]
pr[21] = prs1*prs[212] + prs2*prs[222]
pr[111] = pr[11]*pre[21]/(pr[11]*pre[21]+pr[21]*pre[22])
pr[211] = pr[21]*pre[22]/(pr[11]*pre[21]+pr[21]*pre[22])
pr[1111] = pr[111]*prs[111] + pr[211]*prs[121]
pr[2111] = pr[111]*prs[211] + pr[211]*prs[221]
pr[1112] = pr[111]*prs[112] + pr[211]*prs[122]
pr[2112] = pr[111]*prs[212] + pr[211]*prs[222]

V = [(pr[1111]*pre[11]+pr[2111]*pre[12])*r[1]+(pr[1111]*pre[21]+pr[2111]*pre[22])*r[2],
     (pr[1112]*pre[11]+pr[2112]*pre[12])*r[1]+(pr[1112]*pre[21]+pr[2112]*pre[22])*r[2],]

ans[3] = [max(V),V.index(max(V))+1]
pr4 = pr.copy()
#-----------------------------------------------------------------------------
V = [(pr1[11]*pre[11]+pr1[21]*pre[12])*(r[1]+ans[0][0])
     +(pr1[11]*pre[21]+pr1[21]*pre[22])*(r[2]+ans[1][0]),
     (pr3[11]*pre[11]+pr3[21]*pre[12])*(r[1]+ans[2][0])
     +(pr3[11]*pre[21]+pr3[21]*pre[22])*(r[2]+ans[3][0]),]
ans[4] = [max(V),V.index(max(V))+1]

print(pr1)
print(pr2)
print(pr3)
print(pr4)
print(ans)

